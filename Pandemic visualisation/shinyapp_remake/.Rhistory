library(shiny)
library(dplyr)
library(tidyverse)
# read in data
data <- "http://cowid.netlify.com/data/full_data.csv"
data <- read_csv(data)
data[is.na(data)] <- 0
data$date = as.Date(data$date, "%Y-%m-%d")
data <- data %>%
rename(country=location)
data <- data[order(data$country),]
# list of counties
data$country <- as.character(data$country)
country.list <- c(unique(data$country))
list.50 <- list()
for (i in 1:length(country.list)){
list.50[i] <- country.list[i]
}
names(list.50) <- country.list
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
# UK county data
# read in UK county data
data.county <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vTNL88hteOvWd8ZafF_h0-38Mg1Z3PJdcBkNI3fvORLbuqIlWzc3btPPmD1sB_xqL6jCHcgU1i50ukX/pub?gid=0&single=true&output=csv"
# UK county data
# read in UK county data
data.county <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vTNL88hteOvWd8ZafF_h0-38Mg1Z3PJdcBkNI3fvORLbuqIlWzc3btPPmD1sB_xqL6jCHcgU1i50ukX/pub?gid=0&single=true&output=csv"
data.county <- read_csv(data.county)
data.county <- gather(data.county, key="date", value="cases",3:ncol(data.county))
data.county$date = as.Date(data.county$date, "%d/%m/%Y")
# get list of countries with more than 50 cases
data.county$county_UA <- as.character(data.county$county_UA)
county_LA.list <- c(unique(data.county$county_UA))
View(data.county)
# calculate new daily cases
data.county$new_case <- c()
uni.county <- unique(data.county$county_UA)
out <- c()
# calculate new daily cases
data.county$new_case <- c()
uni.county <- unique(data.county$county_UA)
out <- c()
for (i in 1:length(uni.county)){
x <- data.county[data.county$county_UA==uni.county[i],]
out <- c(out,0,diff(x$cases))
}
data.county$new_cases <- out
View(data.county)
# UK county data
# read in UK county data
data.county <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vTNL88hteOvWd8ZafF_h0-38Mg1Z3PJdcBkNI3fvORLbuqIlWzc3btPPmD1sB_xqL6jCHcgU1i50ukX/pub?gid=0&single=true&output=csv"
data.county <- read_csv(data.county)
data.county <- gather(data.county, key="date", value="cases",3:ncol(data.county))
data.county$date = as.Date(data.county$date, "%d/%m/%Y")
data.county <- data.county[order(data.county$county_UA),]
# calculate new daily cases
data.county$new_case <- c()
uni.county <- unique(data.county$county_UA)
out <- c()
for (i in 1:length(uni.county)){
x <- data.county[data.county$county_UA==uni.county[i],]
out <- c(out,0,diff(x$cases))
}
data.county$new_cases <- out
View(data.county)
runApp()
View(data)
runApp()
runApp()
# read in global data
data <- "http://cowid.netlify.com/data/full_data.csv"
data <- read_csv(data)
data[is.na(data)] <- 0
data$date = as.Date(data$date, "%Y-%m-%d")
data <- data %>%
rename(country=location)
data <- data[order(data$country),]
# list of countries
data$country <- as.character(data$country)
country.list <- c(unique(data$country))
list.50 <- list()
for (i in 1:length(country.list)){
list.50[i] <- country.list[i]
}
names(list.50) <- country.list
# read in UK county data
data.county <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vTNL88hteOvWd8ZafF_h0-38Mg1Z3PJdcBkNI3fvORLbuqIlWzc3btPPmD1sB_xqL6jCHcgU1i50ukX/pub?gid=0&single=true&output=csv"
data.county <- read_csv(data.county)
data.county <- gather(data.county, key="date", value="cases",3:ncol(data.county))
data.county$date = as.Date(data.county$date, "%d/%m/%Y")
# get list of countries with more than 50 cases
data.county$county_UA <- as.character(data.county$county_UA)
county_LA.list <- c(unique(data.county$county_UA))
list.county <- list()
for (i in 1:length(county_LA.list)){
list.county[i] <- county_LA.list[i]
}
names(list.county) <- county_LA.list
runApp()
library(shiny)
library(dplyr)
library(tidyverse)
# read in global data
data <- "http://cowid.netlify.com/data/full_data.csv"
data <- read_csv(data)
data[is.na(data)] <- 0
data$date = as.Date(data$date, "%Y-%m-%d")
data <- data %>%
rename(country=location)
data <- data[order(data$country),]
# list of countries
data$country <- as.character(data$country)
country.list <- c(unique(data$country))
list.50 <- list()
for (i in 1:length(country.list)){
list.50[i] <- country.list[i]
}
names(list.50) <- country.list
# read in UK county data
data.county <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vTNL88hteOvWd8ZafF_h0-38Mg1Z3PJdcBkNI3fvORLbuqIlWzc3btPPmD1sB_xqL6jCHcgU1i50ukX/pub?gid=0&single=true&output=csv"
data.county <- read_csv(data.county)
data.county <- gather(data.county, key="date", value="cases",3:ncol(data.county))
data.county$date = as.Date(data.county$date, "%d/%m/%Y")
# get list of countries with more than 50 cases
data.county$county_UA <- as.character(data.county$county_UA)
county_LA.list <- c(unique(data.county$county_UA))
list.county <- list()
for (i in 1:length(county_LA.list)){
list.county[i] <- county_LA.list[i]
}
names(list.county) <- county_LA.list
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
